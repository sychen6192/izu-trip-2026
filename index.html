<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>紹紹家：伊豆富士極致旅</title>
    <meta name="theme-color" content="#ffffff">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Zen+Maru+Gothic:wght@500;700;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#E11D48', // 熱血紅
                        secondary: '#0F172A', // 深邃藍
                        accent: '#F59E0B', // 亮橘
                        surface: '#FFFFFF',
                        bg: '#F1F5F9',
                    },
                    fontFamily: {
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                        header: ['"Zen Maru Gothic"', 'sans-serif'],
                    },
                    boxShadow: {
                        'float': '0 10px 30px -10px rgba(0, 0, 0, 0.1)',
                        'nav': '0 -4px 20px rgba(0,0,0,0.05)',
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #F1F5F9; -webkit-tap-highlight-color: transparent; padding-bottom: 80px; }
        h1, h2, h3, .font-header { font-family: 'Zen Maru Gothic', sans-serif; }
        
        /* Smooth Scroll & No Scrollbar */
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        html { scroll-behavior: smooth; }

        /* Timeline Design */
        .timeline-container { position: relative; padding-left: 24px; }
        .timeline-line { 
            position: absolute; left: 7px; top: 10px; bottom: -20px; 
            width: 2px; background: #E2E8F0; border-radius: 2px;
        }
        .timeline-dot {
            position: absolute; left: 0; top: 8px; 
            width: 16px; height: 16px; border-radius: 50%; 
            border: 3px solid #fff; box-shadow: 0 0 0 1px #E2E8F0;
            z-index: 10;
        }
        .last-item .timeline-line { display: none; }

        /* Animations */
        .fade-in { animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards; opacity: 0; transform: translateY(10px); }
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        
        @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }

        /* Components */
        .tag { @apply text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider; }
        .card { @apply bg-white rounded-2xl p-4 shadow-sm border border-slate-100 mb-4 transition-all duration-200 active:scale-[0.98]; }
        .nav-item { @apply flex flex-col items-center justify-center w-full h-full text-gray-400 transition-colors duration-200; }
        .nav-item.active { @apply text-primary; }
        .nav-icon { @apply text-xl mb-1; }
        .nav-label { @apply text-[10px] font-medium; }
    </style>
</head>
<body class="text-slate-800">

    <header class="sticky top-0 z-40 bg-white/90 backdrop-blur-md shadow-sm px-4 py-3 flex justify-between items-center transition-all duration-300" id="header">
        <div>
            <h1 class="text-lg font-header font-black text-secondary tracking-tight">
                伊豆富士．極致攻略
            </h1>
            <p class="text-[10px] text-gray-500 font-bold">7 Days Compact Trip</p>
        </div>
        <div class="flex gap-2">
            <a href="https://goo.gl/maps/example" target="_blank" class="w-8 h-8 flex items-center justify-center bg-blue-50 text-blue-600 rounded-full active:bg-blue-100">
                <i class="fas fa-map"></i>
            </a>
        </div>
    </header>

    <main class="px-4 pt-6">

        <div id="view-overview" class="view-section">
            <div class="bg-slate-900 rounded-3xl p-6 text-white shadow-float mb-6 fade-in">
                <div class="flex justify-between items-start mb-6">
                    <div>
                        <div class="text-slate-400 text-xs font-bold mb-1">CURRENT STATUS</div>
                        <div class="text-2xl font-header font-bold">Ready to Go</div>
                    </div>
                    <i class="fas fa-plane-departure text-3xl text-primary opacity-80"></i>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-white/10 rounded-xl p-3 backdrop-blur-sm">
                        <div class="text-[10px] text-slate-300 uppercase">Members</div>
                        <div class="font-bold text-lg">3 Adults</div>
                    </div>
                    <div class="bg-white/10 rounded-xl p-3 backdrop-blur-sm">
                        <div class="text-[10px] text-slate-300 uppercase">Vehicle</div>
                        <div class="font-bold text-lg">Honda Fit</div>
                    </div>
                </div>
            </div>

            <div class="mb-8 fade-in delay-100">
                <h2 class="text-sm font-bold text-slate-400 uppercase tracking-widest mb-3 ml-1">Strategy</h2>
                <div class="space-y-3">
                    <div class="card flex gap-4 items-center !mb-2 border-l-4 border-l-red-500">
                        <div class="bg-red-50 w-10 h-10 rounded-full flex items-center justify-center text-red-500 shrink-0">
                            <i class="fas fa-exclamation"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-sm">Day 4: 早起鐵律</h3>
                            <p class="text-xs text-gray-500">河津櫻週六必塞，08:30 前務必發車。</p>
                        </div>
                    </div>
                    <div class="card flex gap-4 items-center !mb-2 border-l-4 border-l-blue-500">
                        <div class="bg-blue-50 w-10 h-10 rounded-full flex items-center justify-center text-blue-500 shrink-0">
                            <i class="fas fa-fish"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-sm">Day 6: 午餐戰術</h3>
                            <p class="text-xs text-gray-500">TORITON 池袋店，開店前 10:30 到達排隊。</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card fade-in delay-200">
                <h3 class="font-bold text-sm mb-4">行程配比</h3>
                <div class="h-40 relative">
                    <canvas id="tripChart"></canvas>
                </div>
            </div>
        </div>

        <div id="view-itinerary" class="view-section hidden">
            <div class="flex overflow-x-auto hide-scrollbar gap-2 mb-6 pb-2 sticky top-[60px] z-30 bg-[#F1F5F9]/95 backdrop-blur-sm py-2 -mx-4 px-4">
                <button onclick="scrollToDay('d1')" class="day-btn active bg-slate-900 text-white px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap shadow-lg">Day 1</button>
                <button onclick="scrollToDay('d2')" class="day-btn bg-white text-slate-500 px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap shadow-sm">Day 2</button>
                <button onclick="scrollToDay('d3')" class="day-btn bg-white text-slate-500 px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap shadow-sm">Day 3</button>
                <button onclick="scrollToDay('d4')" class="day-btn bg-white text-slate-500 px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap shadow-sm">Day 4</button>
                <button onclick="scrollToDay('d5')" class="day-btn bg-white text-slate-500 px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap shadow-sm">Day 5</button>
                <button onclick="scrollToDay('d6')" class="day-btn bg-white text-slate-500 px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap shadow-sm">Day 6</button>
                <button onclick="scrollToDay('d7')" class="day-btn bg-white text-slate-500 px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap shadow-sm">Day 7</button>
            </div>

            <div class="space-y-8">
                <div id="d1" class="day-container fade-in">
                    <h3 class="font-header font-black text-xl mb-4 flex items-center">Day 1 <span class="text-sm font-normal text-gray-400 ml-2">2/11 橫濱</span></h3>
                    <div class="timeline-container">
                        <div class="relative pl-6 pb-6 border-l-2 border-slate-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">10:35 - 13:00</div>
                            <div class="card !mb-0">
                                <div class="font-bold">抵達 & 移動</div>
                                <div class="text-xs text-gray-500">成田 T1 (TR898) ➔ N'EX ➔ 橫濱 APA。</div>
                            </div>
                        </div>
                        <div class="relative pl-6 pb-6 border-l-2 border-slate-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">14:00 - 18:00</div>
                            <div class="card !mb-0">
                                <div class="font-bold">橫濱散策</div>
                                <div class="text-xs text-gray-500 mt-1 space-y-1">
                                    <p>• 午餐：萬珍樓 (中華街)</p>
                                    <p>• <span class="bg-blue-100 text-blue-800 px-1 rounded">必搭</span> AIR CABIN 空中纜車</p>
                                    <p>• 紅磚倉庫看夕陽</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="d2" class="day-container fade-in">
                    <h3 class="font-header font-black text-xl mb-4 flex items-center">Day 2 <span class="text-sm font-normal text-gray-400 ml-2">2/12 箱根逆時針</span></h3>
                    <div class="bg-red-50 rounded-xl p-3 mb-4 flex gap-3 items-center">
                        <i class="fas fa-suitcase text-red-500"></i>
                        <p class="text-xs text-red-800 font-bold">大行李寄放「小田原站」，輕裝進箱根。</p>
                    </div>
                    <div class="timeline-container">
                        <div class="relative pl-6 pb-6 border-l-2 border-slate-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">09:00 - 10:30</div>
                            <div class="card !mb-0">
                                <div class="font-bold">移動至箱根湯本</div>
                                <div class="text-xs text-gray-500">橫濱 ➔ 小田原 (寄行李) ➔ 湯本。</div>
                            </div>
                        </div>
                        <div class="relative pl-6 pb-6 border-l-2 border-slate-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">12:30 - 15:30</div>
                            <div class="card !mb-0 border-l-4 border-purple-500">
                                <div class="font-bold">逆時針交通接力</div>
                                <div class="text-xs text-gray-500 mt-2 space-y-2">
                                    <div class="flex justify-between"><span>電車➔強羅</span> <span class="font-mono">12:30</span></div>
                                    <div class="flex justify-between"><span>纜車➔早雲山</span> <span class="font-mono">13:10</span></div>
                                    <div class="flex justify-between font-bold text-slate-800"><span>索道➔大湧谷(黑蛋)</span> <span class="font-mono">13:30</span></div>
                                    <div class="flex justify-between"><span>海賊船➔元箱根</span> <span class="font-mono">15:00</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="relative pl-6 border-l-2 border-transparent">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-accent border-4 border-white"></div>
                            <div class="text-xs font-bold text-accent mb-1">16:30</div>
                            <div class="card !mb-0 bg-yellow-50 border-yellow-200">
                                <div class="font-bold text-yellow-900"><i class="fas fa-taxi mr-1"></i>計程車戰術</div>
                                <div class="text-xs text-yellow-800">元箱根直衝小田原站 (約40分)。取行李➔熱海。</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="d3" class="day-container fade-in">
                    <h3 class="font-header font-black text-xl mb-4 flex items-center">Day 3 <span class="text-sm font-normal text-gray-400 ml-2">2/13 山線自駕</span></h3>
                    <div class="timeline-container">
                        <div class="relative pl-6 pb-6 border-l-2 border-slate-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-green-500 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">08:00 - 10:00</div>
                            <div class="card !mb-0">
                                <div class="font-bold">取車 & 十國峠</div>
                                <div class="text-xs text-gray-500">Honda Fit @ 熱海站前。直奔十國峠看富士山。</div>
                            </div>
                        </div>
                         <div class="relative pl-6 pb-6 border-l-2 border-slate-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">11:30</div>
                            <div class="card !mb-0">
                                <div class="font-bold">三島 櫻家 (預約制)</div>
                                <div class="text-xs text-gray-500">伊豆第一鰻魚飯。途中經過三島大吊橋 (Skywalk)。</div>
                            </div>
                        </div>
                        <div class="relative pl-6 border-l-2 border-transparent">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">14:00</div>
                            <div class="card !mb-0">
                                <div class="font-bold">修善寺溫泉</div>
                                <div class="text-xs text-gray-500">竹林小徑散步。宿：修善寺萬豪。</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="d4" class="day-container fade-in">
                    <h3 class="font-header font-black text-xl mb-4 flex items-center">Day 4 <span class="text-sm font-normal text-gray-400 ml-2">2/14 縱貫絕景</span></h3>
                    <div class="timeline-container">
                        <div class="relative pl-6 pb-6 border-l-2 border-slate-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-red-500 border-4 border-white animate-pulse"></div>
                            <div class="text-xs font-bold text-red-500 mb-1">08:30 (嚴守)</div>
                            <div class="card !mb-0 border-red-100 bg-red-50">
                                <div class="font-bold text-red-700">修善寺出發</div>
                                <div class="text-xs text-red-600">週六河津櫻必塞，早起是唯一解。走 Route 414。</div>
                            </div>
                        </div>
                        <div class="relative pl-6 pb-6 border-l-2 border-slate-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">09:10 - 10:15</div>
                            <div class="card !mb-0">
                                <div class="font-bold">沿途快攻</div>
                                <div class="text-xs text-gray-500 mt-1">
                                    1. 淨蓮瀑布 (伊豆舞孃)<br>
                                    2. 河津七瀧迴旋橋 (自駕體驗)
                                </div>
                            </div>
                        </div>
                        <div class="relative pl-6 pb-6 border-l-2 border-slate-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-pink-400 border-4 border-white"></div>
                            <div class="text-xs font-bold text-pink-500 mb-1">10:30</div>
                            <div class="card !mb-0 border-pink-100">
                                <div class="font-bold">河津櫻祭典</div>
                                <div class="text-xs text-gray-500">主戰場。油菜花+櫻花。午餐：德造丸金目鯛。</div>
                            </div>
                        </div>
                        <div class="relative pl-6 border-l-2 border-transparent">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">14:30 - 16:00</div>
                            <div class="card !mb-0">
                                <div class="font-bold">下田海岸線</div>
                                <div class="text-xs text-gray-500 mt-1">
                                    • 白濱神社 (海邊鳥居)<br>
                                    • 培里路 (老街散策)<br>
                                    • 宿：下田東急飯店
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="d5" class="day-container fade-in">
                    <h3 class="font-header font-black text-xl mb-4 flex items-center">Day 5 <span class="text-sm font-normal text-gray-400 ml-2">2/15 海線北上</span></h3>
                    <div class="timeline-container">
                        <div class="relative pl-6 pb-6 border-l-2 border-slate-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">10:00 - 13:00</div>
                            <div class="card !mb-0">
                                <div class="font-bold">伊豆高原</div>
                                <div class="text-xs text-gray-500 mt-1">
                                    • 大室山 (抹茶山纜車)<br>
                                    • 城崎海岸 (吊橋)<br>
                                    • 午餐：伊豆高原啤酒 (漁師飯)
                                </div>
                            </div>
                        </div>
                        <div class="relative pl-6 pb-6 border-l-2 border-slate-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">15:30</div>
                            <div class="card !mb-0">
                                <div class="font-bold">熱海梅園</div>
                                <div class="text-xs text-gray-500">梅花祭正好。隨後熱海站還車 (17:00)。</div>
                            </div>
                        </div>
                        <div class="relative pl-6 border-l-2 border-transparent">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">20:00</div>
                            <div class="card !mb-0">
                                <div class="font-bold">抵達池袋</div>
                                <div class="text-xs text-gray-500">宿：Dormy Inn (黑湯溫泉 + 夜鳴拉麵)。</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="d6" class="day-container fade-in">
                    <h3 class="font-header font-black text-xl mb-4 flex items-center">Day 6 <span class="text-sm font-normal text-gray-400 ml-2">2/16 吉祥寺散策</span></h3>
                    <div class="timeline-container">
                         <div class="relative pl-6 pb-6 border-l-2 border-slate-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-blue-500 border-4 border-white"></div>
                            <div class="text-xs font-bold text-blue-600 mb-1">10:30 (關鍵)</div>
                            <div class="card !mb-0 bg-blue-50 border-blue-100">
                                <div class="font-bold text-blue-800">午餐：TORITON 壽司</div>
                                <div class="text-xs text-blue-700">
                                    <i class="fas fa-bullseye mr-1"></i><b>策略：</b>位於池袋東武百貨 11F。開店前 10:30 到達排隊，確保第一批入座。
                                </div>
                            </div>
                        </div>
                        <div class="relative pl-6 pb-6 border-l-2 border-slate-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">13:30 - 17:00</div>
                            <div class="card !mb-0">
                                <div class="font-bold">吉祥寺悠閒散策</div>
                                <div class="text-xs text-gray-500 mt-2 space-y-2">
                                    <div class="flex items-start"><span class="bg-gray-100 px-1 rounded mr-2 shrink-0">景點</span> <span><b>井之頭公園</b>：沿著池畔散步到弁財天，氛圍極佳。</span></div>
                                    <div class="flex items-start"><span class="bg-gray-100 px-1 rounded mr-2 shrink-0">小吃</span> <span><b>Satou 炸肉餅</b> & 羊羹 (排隊名店)。</span></div>
                                    <div class="flex items-start"><span class="bg-gray-100 px-1 rounded mr-2 shrink-0">逛街</span> <span>口琴橫丁、Sunroad 商店街。</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="relative pl-6 border-l-2 border-transparent">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-slate-200 border-4 border-white"></div>
                            <div class="text-xs font-bold text-primary mb-1">19:30 (預約)</div>
                            <div class="card !mb-0 border-l-4 border-orange-400">
                                <div class="font-bold">晚餐：人形町今半</div>
                                <div class="text-xs text-gray-500">
                                    <i class="fas fa-check-circle text-green-500 mr-1"></i><b>完美接駁：</b>回到池袋，就在東武百貨 15F。頂級壽喜燒。
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="d7" class="day-container fade-in">
                    <h3 class="font-header font-black text-xl mb-4 flex items-center">Day 7 <span class="text-sm font-normal text-gray-400 ml-2">2/17 返家</span></h3>
                    <div class="card">
                        <div class="font-bold mb-2">最後的時光</div>
                        <p class="text-xs text-gray-600 mb-2">10:30 從池袋搭 N'EX 直達成田 T1。</p>
                        <div class="bg-slate-100 p-2 rounded text-center font-mono text-xs text-slate-500">BR183 (13:25 起飛)</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-food" class="view-section hidden">
            <div class="grid grid-cols-1 gap-3" id="food-grid"></div>
        </div>

        <div id="view-hotel" class="view-section hidden">
            <div class="space-y-4">
                <div class="card border-l-4 border-blue-500">
                    <div class="flex justify-between"><span class="font-bold">橫濱 APA Resort</span> <span class="text-xs bg-gray-100 px-2 py-1 rounded">Day 1</span></div>
                    <div class="text-xs text-gray-500 mt-1">大浴場放鬆。</div>
                </div>
                <div class="card border-l-4 border-blue-500">
                    <div class="flex justify-between"><span class="font-bold">熱海 Hotel Akao</span> <span class="text-xs bg-gray-100 px-2 py-1 rounded">Day 2</span></div>
                    <div class="text-xs text-gray-500 mt-1">全室海景。</div>
                </div>
                <div class="card border-l-4 border-indigo-500">
                    <div class="flex justify-between"><span class="font-bold">伊豆修善寺萬豪</span> <span class="text-xs bg-gray-100 px-2 py-1 rounded">Day 3</span></div>
                    <div class="text-xs text-gray-500 mt-1">頂級度假體驗。</div>
                </div>
                <div class="card border-l-4 border-indigo-500">
                    <div class="flex justify-between"><span class="font-bold">下田東急飯店</span> <span class="text-xs bg-gray-100 px-2 py-1 rounded">Day 4</span></div>
                    <div class="text-xs text-gray-500 mt-1">高台海景。</div>
                </div>
                <div class="card border-l-4 border-slate-700">
                    <div class="flex justify-between"><span class="font-bold">池袋 Dormy Inn</span> <span class="text-xs bg-gray-100 px-2 py-1 rounded">Day 5-6</span></div>
                    <div class="text-xs text-gray-500 mt-1">天然溫泉 豊穣の湯。</div>
                </div>
            </div>
        </div>

    </main>

    <nav class="fixed bottom-0 w-full bg-white/95 backdrop-blur-md border-t border-slate-200 pb-safe z-50 shadow-nav h-[60px] md:h-[70px]">
        <div class="grid grid-cols-4 h-full max-w-3xl mx-auto">
            <button onclick="switchView('overview')" class="nav-item active" id="nav-overview">
                <i class="fas fa-compass nav-icon"></i>
                <span class="nav-label">總覽</span>
            </button>
            <button onclick="switchView('itinerary')" class="nav-item" id="nav-itinerary">
                <i class="fas fa-stream nav-icon"></i>
                <span class="nav-label">行程</span>
            </button>
            <button onclick="switchView('food')" class="nav-item" id="nav-food">
                <i class="fas fa-utensils nav-icon"></i>
                <span class="nav-label">美食</span>
            </button>
            <button onclick="switchView('hotel')" class="nav-item" id="nav-hotel">
                <i class="fas fa-bed nav-icon"></i>
                <span class="nav-label">住宿</span>
            </button>
        </div>
    </nav>

    <script>
        // Data
        const foodData = [
            { name: "三島 櫻家", tag: "Day 3 必預約", type: "鰻魚", loc: "三島", query: "三島桜家" },
            { name: "TORITON 壽司", tag: "Day 6 排隊", type: "壽司", loc: "池袋東武 11F", query: "回転寿しトリトン 池袋東武店" },
            { name: "人形町今半", tag: "Day 6 預約", type: "壽司燒", loc: "池袋東武 15F", query: "人形町今半 池袋東武店" },
            { name: "敘敘苑", tag: "建議預約", type: "燒肉", loc: "池袋", query: "敘敘苑 池袋東口" },
            { name: "德造丸 本店", tag: "Day 4", type: "金目鯛", loc: "伊豆稻取", query: "德造丸本店" },
            { name: "Satou", tag: "Day 6", type: "炸肉餅", loc: "吉祥寺", query: "吉祥寺 さとう" },
        ];

        // Logic
        function switchView(viewId) {
            // Hide all views
            document.querySelectorAll('.view-section').forEach(el => el.classList.add('hidden'));
            // Show selected view
            document.getElementById('view-' + viewId).classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'auto' });

            // Update Nav State
            document.querySelectorAll('.nav-item').forEach(btn => btn.classList.remove('active'));
            document.getElementById('nav-' + viewId).classList.add('active');

            if (viewId === 'overview') renderChart();
            if (viewId === 'food') renderFood();
        }

        function scrollToDay(dayId) {
            const el = document.getElementById(dayId);
            const headerOffset = 110;
            const elementPosition = el.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
            window.scrollTo({ top: offsetPosition, behavior: "smooth" });
            
            // Update button styles
            document.querySelectorAll('.day-btn').forEach(btn => {
                btn.classList.remove('bg-slate-900', 'text-white', 'shadow-lg');
                btn.classList.add('bg-white', 'text-slate-500', 'shadow-sm');
            });
            event.target.classList.remove('bg-white', 'text-slate-500', 'shadow-sm');
            event.target.classList.add('bg-slate-900', 'text-white', 'shadow-lg');
        }

        let tripChart = null;
        function renderChart() {
            const ctx = document.getElementById('tripChart').getContext('2d');
            if (tripChart) return;
            tripChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['景點', '自駕', '美食', '休息'],
                    datasets: [{
                        data: [40, 30, 20, 10],
                        backgroundColor: ['#E11D48', '#0F172A', '#F59E0B', '#94A3B8'],
                        borderWidth: 0
                    }]
                },
                options: { 
                    responsive: true, 
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'right', labels: { boxWidth: 10, font: { size: 10 } } } } 
                }
            });
        }

        function renderFood() {
            const grid = document.getElementById('food-grid');
            if (grid.innerHTML !== "") return;
            
            foodData.forEach(item => {
                let badgeColor = item.type === '壽司燒' || item.type === '壽司' ? 'bg-red-50 text-red-600' : 'bg-blue-50 text-blue-600';
                grid.innerHTML += `
                    <div class="card flex justify-between items-center !mb-0" onclick="window.open('https://www.google.com/maps/search/?api=1&query=$${item.query}')">
                        <div>
                            <div class="flex items-center gap-2 mb-1">
                                <span class="font-bold">${item.name}</span>
                                <span class="text-[10px] px-2 py-0.5 rounded-full ${badgeColor}">${item.type}</span>
                            </div>
                            <div class="text-xs text-gray-500 flex items-center gap-2">
                                <span><i class="fas fa-map-marker-alt text-gray-300"></i> ${item.loc}</span>
                                <span class="bg-gray-100 px-1 rounded text-[10px]">${item.tag}</span>
                            </div>
                        </div>
                        <i class="fas fa-chevron-right text-gray-300 text-xs"></i>
                    </div>`;
            });
        }

        // Init
        window.onload = function() {
            renderChart();
        }
    </script>
</body>
</html>